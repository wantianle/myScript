# æœºåœºè®¢é˜…
proxy-providers:
  zsh:
    url: "https://zhs.futbol/link/whYbmVLDYRUzadUW?is_ss=5&dns=1&tj=1&disney&y2b&ai&nf"
    type: http
    interval: 86400
    proxy: DIRECT
    path: ./providers/zhs.tw.yaml

# å…¨å±€é…ç½®
mode: rule
mixed-port: 7890
redir-port: 7891
tproxy-port: 7892
allow-lan: true
bind-address: "*"
ipv6: false
unified-delay: true
tcp-concurrent: true
log-level: info
find-process-mode: 'off'
global-client-fingerprint: chrome
disable-keep-alive: false
keep-alive-idle: 600
keep-alive-interval: 15
profile:
  store-selected: true
  store-fake-ip: true
geodata-mode: false
geodata-loader: memconservative
geo-auto-update: true
geo-update-interval: 72
geox-url:
  geoip: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  metadb: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.metadb"
  asn: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/GeoLite2-ASN.mmdb"
external-controller: 0.0.0.0:9090
secret: ""
external-ui: /etc/nikki/run/ui
external-ui-name: Zashboard
external-ui-url: "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"

# DNSæ¨¡å—
dns:
  enable: true
  # cache-algorithm: arc
  listen: 0.0.0.0:1053
  ipv6: false
  respect-rules: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - "GEOSITE:private"
    - "GEOSITE:cn"
  # ç”¨äºè§£æDNSæœåŠ¡å™¨çš„åŸŸå
  default-nameserver:
    - 119.29.29.29
  # ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸå
  proxy-server-nameserver:
    - 119.29.29.29
  nameserver:
    - 211.136.192.6
    - 120.196.165.24
    - 119.29.29.29

# å…¥ç«™
tun:
  enable: true
  # system/gvisor/mixed
  stack: mixed
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  dns-hijack: ["any:53", "tcp://any:53"]

# å‡ºç«™ç­–ç•¥
pr: &pr {type: select, proxies: [é»˜è®¤ä»£ç†, ğŸ‡¨ğŸ‡³ å°æ¹¾è‡ªåŠ¨, ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨, ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨, ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨, DIRECT]}
proxy-groups:
  - {name: é»˜è®¤ä»£ç†, type: select, proxies: [ æ¨èèŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾è‡ªåŠ¨, ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨, ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨, DIRECT], icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Available_1.png}
  - {name: æ¨èèŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)è", use: [zsh], icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Auto.png}
  - {name: æ¼ç½‘ä¹‹é±¼, <<: *pr, icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨, type: url-test, url: 'https://www.gstatic.com/generate_204', timeout: 5000, tolerance: 20, interval: 600, max-failed-times: 3, expected-status: 204, lazy: true,filter: "(?i)US", use: [zsh]}
  - {name: ğŸ‡¨ğŸ‡³ å°æ¹¾è‡ªåŠ¨, type: url-test, url: 'https://www.gstatic.com/generate_204', timeout: 5000, tolerance: 20, interval: 600, max-failed-times: 3, expected-status: 204, filter: "(?i)TW", use: [zsh]}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨, type: url-test, url: 'https://www.gstatic.com/generate_204', timeout: 5000, tolerance: 20, interval: 600, max-failed-times: 3, expected-status: 204, filter: "(?i)HK", use: [zsh]}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨, type: url-test, url: 'https://www.gstatic.com/generate_204', timeout: 5000, tolerance: 20, interval: 600, max-failed-times: 3, expected-status: 204, lazy: true, filter: "(?i)JP", use: [zsh]}
  - {name: YouTube, <<: *pr, icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png}
  - {name: ChatGPT, <<: *pr, icon: https://fastly.jsdelivr.net/gh/shindgewongxj/WHATSINStash@master/icon/openai.png}
  - {name: Telegram, <<: *pr, icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png}
  - {name: TikTok, <<: *pr, icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png}
  - {name: GitHub, <<: *pr, icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/GitHub.png}
  - {name: Google, <<: *pr, icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png}
  - {name: Apple, type: select, proxies: [DIRECT,  é»˜è®¤ä»£ç†], icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png}
  - {name: å…¨éƒ¨èŠ‚ç‚¹, type: select, use: [zsh], icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png}

# è§„åˆ™åŒ¹é…
rules:
  - DOMAIN-SUFFIX,cn.bing.com, é»˜è®¤ä»£ç†
  - DOMAIN-SUFFIX,th.bing.com, é»˜è®¤ä»£ç†
  - GEOSITE,private, DIRECT
  - GEOSITE,category-scholar-!cn, é»˜è®¤ä»£ç†
  - GEOSITE,steam@cn, DIRECT
  - GEOSITE,category-games@cn, DIRECT
  - GEOSITE,apple-cn, Apple
  - GEOSITE,apple, Apple
  - GEOSITE,category-ai-!cn, ChatGPT
  - GEOSITE,github, GitHub
  - GEOSITE,youtube, YouTube
  - GEOSITE,google, Google
  - GEOSITE,telegram, Telegram
  - GEOSITE,microsoft@cn, DIRECT
  - GEOSITE,onedrive, DIRECT
  - GEOSITE,tiktok, TikTok
  - GEOSITE,gfw, é»˜è®¤ä»£ç†
  - GEOSITE,geolocation-!cn, é»˜è®¤ä»£ç†
  - GEOSITE,cn, DIRECT
  - GEOIP,private, DIRECT,no-resolve
  - GEOIP,google, Google,no-resolve
  - GEOIP,telegram, Telegram,no-resolve
  - GEOIP,cn, DIRECT
  - MATCH, æ¼ç½‘ä¹‹é±¼
